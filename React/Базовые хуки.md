# React

## –ë–∞–∑–æ–≤—ã–µ —Ö—É–∫–∏

–•—É–∫–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–û–¥–Ω–æ–π –∏–∑ –ø—Ä–∏—á–∏–Ω –≤–≤–µ–¥–µ–Ω–∏—è —Ö—É–∫–æ–≤ –±—ã–ª–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º `this` –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ï—Å–ª–∏ —Å –Ω–∏–º –Ω–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, `this` –±—É–¥–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –≠—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ–ª–æ–º–∫–µ —Ç–∞–∫–∏—Ö —Å—Ç—Ä–æ–∫, –∫–∞–∫ `this.setState()` –∏ –¥—Ä—É–≥–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π. –ò—Å–ø–æ–ª—å–∑—É—è —Ö—É–∫–∏, –º—ã –∏–∑–±–µ–≥–∞–µ–º —ç—Ç–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

### `useState`

–•—É–∫ `useState` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–±–æ—Ç—É —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. `useState` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `initialState` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –¥–≤—É—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–∫–æ—Ä—Ç–µ–∂): —Ç–µ–∫—É—â–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è `state` –∏ —Ñ—É–Ω–∫—Ü–∏–∏ `setState`, –∫–æ—Ç–æ—Ä–∞—è –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

```
const [state, setState] = useState(initiaState);

```

–ù–∞–ø—Ä–∏–º–µ—Ä:

```
const [count, setCount] = useState(0);
const [name, setName] = useState("Daria");
const [isAwesome, setIsAwesome] = useState(true);
```

–§—É–Ω–∫—Ü–∏—é `setState` –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –í–∞–∂–Ω–æ, —á—Ç–æ —Ö—É–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ç.–µ. –∏—Ö –Ω–µ–ª—å–∑—è –≤—ã–∑—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤ –∏ —É—Å–ª–æ–≤–∏–π:

```
import { useState } from 'react';

export default function Counter() {
  const [count, setCount] = useState(0);

  const handleClick = () => {
      setCount(count + 1);
  };

  return (
    <button onClick={handleClick}>
      You pressed me {count} times
    </button>
  );
}
```

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `useState` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—è –≤–≤–æ–¥–∞:

```
import { useState } from 'react';

export const TextInput = () => {
  const [text, setText] = useState('hello');

  const handleChange = (e) => {
    setText(e.target.value);
  };

  return (
    <>
      <input value={text} onChange={handleChange} />
      <p>You typed: {text}</p>
      <button onClick={() => setText('hello')}>
        Reset
      </button>
    </>
  );
};
```

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `useState` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–µ–∫–±–æ–∫—Å–∞:

```
import { useState } from 'react';

export const LikedCheckbox = () => {
  const [liked, setLiked] = useState(true);

  const handleChange = (e) => {
      setLiked(e.target.checked);
  };

  return (
    <>
      <label>
          <input
          type="checkbox"
          checked={liked}
          onChange={handleChange}
          />
          I liked this
      </label>
      <p>You {liked ? 'liked' : 'did not like'} this.</p>
    </>
  );
}
```

–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ `useState` –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è. –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `setState` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –∫–æ–¥–∞:

```
const handleClick = () => {
  setName('Oleg');
  console.log(name); // Still "Daria"!
};
```

–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –≤ –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –±—É–¥–µ—Ç –Ω–µ 45, –∞ 43:

```
const handleClick = () => {
  setCount(count + 1); // setCount(42 + 1)
  setCount(count + 1); // setCount(42 + 1)
  setCount(count + 1); // setCount(42 + 1)
}
```

–ü–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ `updater function`:

```
const handleClick = () => {
  setCount((prevCount) => prevCount + 1);
};
```

–í —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ `string`, `number` –∏ `boolean`, –Ω–æ –∏ –º–∞—Å—Å–∏–≤—ã –∏ –¥—Ä—É–≥–∏–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. –ü—Ä–∏ —ç—Ç–æ–º –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∞–∫ –∏ –≤ JavaScript –Ω–µ–ª—å–∑—è –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –Ω–µ–ª—å–∑—è –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```
const [form, setForm] = useState({
  firstName: "Daria",
  isAwesome: true
});

form.firstName = 'Oleg'; // –ù–µ–ª—å–∑—è —Ç–∞–∫ –¥–µ–ª–∞—Ç—å
```

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å–ª–µ–¥—É–µ—Ç –¥–µ–ª–∞—Ç—å —Ç–∞–∫:

```
setForm({
  ...form,
  firstName: 'Oleg'
});
```

---

### `useReducer`

–ö–∞–∫ –∏ `useState` —Ö—É–∫ `useReducer` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. `useReducer` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –∏ –º–Ω–æ–≥–æ—Å–æ—Å—Ç–∞–≤–Ω—ã–º –∏–ª–∏ –≤ –º–æ–º–µ–Ω—Ç—ã, –∫–æ–≥–¥–∞ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ. –•—É–∫ `useReducer` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: `reducer`, `initialState` –∏ `init`.

```
const [state, dispatch] = useReducer(reducer, initialState, init);
```

–ü–µ—Ä–≤—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `reducer`, –∏–¥–µ—è —Ä–∞–±–æ—Ç—ã –∫–æ—Ç–æ—Ä–æ–π –≤–∑—è—Ç–∞ –∏–∑ Redux. `reducer` –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ `action` —Å —Ç–∏–ø–æ–º –¥–ª—è –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –° –ø–æ–º–æ—â—å—é `reducer` –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ `state`:

```
function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return {
        count: state.count + 1
      };
    case 'decrement':
      return {
        count: state.count - 1
      };
    default:
      return state
  }
}
```

–í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä `initialState` - –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∏ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `reducer`. –¢—Ä–µ—Ç–∏–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è ¬´–ª–µ–Ω–∏–≤–æ–π¬ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è `init`:

```
function init(initialState) {
  return {
    count: initialState
  }
}
```

`useReducer` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –¥–≤—É—Ö –∑–Ω–∞—á–µ–Ω–∏–π: `state` –∏ `dispatch`. `state` - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –æ–Ω–æ –±–µ—Ä—ë—Ç—Å—è –∏–∑ `init` –ª–∏–±–æ –±–µ—Ä—ë—Ç—Å—è –∏–∑ `initialState` –µ—Å–ª–∏ `init` –Ω–µ –∑–∞–¥–∞–Ω. `dispatch` - —Ñ—É–Ω–∫—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –æ–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ü—Ä–∏ —ç—Ç–æ–º `dispatch` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞.
–ö–∞–∫ –∏ –¥—Ä—É–≥–∏–µ —Ö—É–∫–∏ `useReducer`–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ç.–µ. –∏—Ö –Ω–µ–ª—å–∑—è –≤—ã–∑—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤ –∏–ª–∏ —É—Å–ª–æ–≤–∏–π.

```
import { useReducer } from 'react';

function reducer(state, action) {
  if (action.type === 'increment') {
    return {
      age: state.count + 1
    };
  }

  if (action.type === 'decrement') {
    return {
      age: state.count + 1
    };
  }

  throw Error('Unknown action.');
}

export const Counter = () => {
  const [state, dispatch] = useReducer(reducer, { count: 0 });

  return (
    <>
      <button onClick={() => {
        dispatch({ type: 'increment' })
      }}>
        Increment
      </button>
      <button onClick={() => {
        dispatch({ type: 'decrement' })
      }}>
        Decrement
      </button>
      <p>You have {state.count} cookies</p>
    </>
  );
};

```

---

### `useRef`

`useRef` ‚Äî —ç—Ç–æ —Ö—É–∫ –≤ React, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏. –û–Ω —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ DOM-—ç–ª–µ–º–µ–Ω—Ç–∞–º –∏–ª–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª—é–±—ã—Ö –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä.

–û—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `useState` —Ç–µ–º, —á—Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä.

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ—É–Ω–∫—Ü–∏—è `useRef` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `initialValue`. –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `ref` - —Å—Å—ã–ª–∫–∞-–æ–±—ä–µ–∫—Ç, –∏–∑ —Å–≤–æ–π—Å—Ç–≤–∞ `current` –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ö—Ä–∞–Ω–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

```
const ref = useRef(intialValue);
```

–î–∞–ª–µ–µ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏-–æ–±—ä–µ–∫—Ç–∞:

```
const updateSomething = () => {
  ref.current = "Yay!";
};
```

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –ø—Ä–∏–º–µ—Ä —Å—á—ë—Ç—á–∏–∫–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å –ø–æ–º–æ—â—å—é `useRef`. –í –ø—Ä–∏–º–µ—Ä–µ –µ—Å—Ç—å –Ω—é–∞–Ω—Å - –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `useRef` —Å—á—ë—Ç—á–∏–∫ –Ω–µ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ç.–∫. –∏–∑–º–µ–Ω–µ–Ω–∏–µ `ref` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```
import { useRef } from 'react';

const Counter = () => {
  const ref = useRef(0);

  const handleClick = () => {
    ref.current = ref.current + 1;
    alert('You clicked ' + ref.current + ' times!');
  }

  return (
    <button onClick={handleClick}>
      Click me!
    </button>
  );
};
```

–ù–µ–ª—å–∑—è —á–∏—Ç–∞—Ç—å –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å `ref` –≤–æ –≤—Ä–µ–º—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∞:

```
const SomeComponent = () => {
  ...
  // üö© Don't write a ref during rendering
  ref.current = 123;
  ...
  // üö© Don't read a ref during rendering
  return <h1>{otherRef.current}</h1>;
  ...
};

```

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏ –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å `ref`—ã –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –∏ –≤ —ç—Ñ—Ñ–µ–∫—Ç–∞—Ö:

```
const SomeComponent = () => {
  ...
  useEffect(() => {
  // ‚úÖ You can read or write refs in effects
  ref.current = 123;
  });
  ...
  const handleClick = () => {
  // ‚úÖ You can read or write refs in event handlers
  doSomething(otherRef.current);
  };
  ...
}

```

–ï—Å–ª–∏ –Ω–∞–¥–æ —á—Ç–æ-—Ç–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –≤–æ –≤—Ä–µ–º—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useState`.

–ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ –≤—Å–µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ref`—ã –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å DOM-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å –¥–∏–≤–∞–º–∏, —Ñ–æ—Ä–º–∞–º–∏, etc:

```
import { useRef } from 'react';

const SomeComponent = () => {
  const inputRef = useRef(null);

  const handleClick = () => {
    inputRef.current.focus();
  };

  return (
    <>
      <input ref={inputRef} />
      <button onClick={handleClick}>
        Focus the input
      </button>
    </>
  );
};
```

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ React —Å–æ–∑–¥–∞—Å—Ç DOM –¥–µ—Ä–µ–≤–æ –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç –µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ `current` –≤ `ref` –æ–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫–∞. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ DOM-—ç–ª–µ–º–µ–Ω—Ç—É –∏ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —É –Ω–µ–≥–æ –µ—Å—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä `focus`.

–°—Å—ã–ª–∫–∏ `ref` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ª–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º. –î–ª—è —ç—Ç–æ–≥–æ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `forwardRef`- —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—è React, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ä–µ—Ñ—ã —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –≥–ª—É–±–∏–Ω—É –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `ref` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π `props` –∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞, –∫–∞–∫ —ç—Ç–æ –±—ã–ª–æ –±—ã –ø—Ä–∏ –ø—Ä—è–º–æ–π –ø–µ—Ä–µ–¥–∞—á–µ –≤ DOM-—ç–ª–µ–º–µ–Ω—Ç. `forwardRef` —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –¥–µ–ª–∞—è `ref` –¥–æ—Å—Ç—É–ø–Ω—ã–º –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏. `forwardRef` –∫–∞–∫ –±—ã –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `ref`, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º:

```
import React, { forwardRef, useRef } from 'react';

const ChildComponent = forwardRef((props, ref) =>; (
  <button>
    {props.children}
  </button>
));

const ParentComponent = () =>; {
  const buttonRef = useRef(null);

  const handleClick = () =>; {
    if (buttonRef.current) {
      buttonRef.current.focus();
      console.log("–§–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!");
    }
  };

  return (
    <>
      <button>–§–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–π –∫–Ω–æ–ø–∫–µ</button>
    </>
  );
};
```

---

### `useEffect`

`useEffect` –∑–∞–º–µ–Ω—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–ª–∞—Å—Å–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

- –ø—Ä–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥ `componentDidMount` –≤ –∫–ª–∞—Å—Å–æ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ)
- –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥ `componentDidUpdated` –≤ –∫–ª–∞—Å—Å–æ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ)
- –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ DOM (–º–µ—Ç–æ–¥ `componentWillUnmount` –≤ –∫–ª–∞—Å—Å–æ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ)

–°–∏–Ω—Ç–∞–∫—Å–∏—Å `useEffect` –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º, –≥–¥–µ `setup` —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω `useEffect`, –∞ `dependencies` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è —Ç—Ä–∏–≥–≥–µ—Ä –∑–∞–ø—É—Å–∫–∞ `useEffect`'a:

```
useEffect(setup, dependencies?);
```

---

### `useMemo`

`useMemo` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–æ–µ-–ª–∏–±–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∞–º–∏:

```
const cachedValue = useMemo(calculateValue, dependencies);
```

`calculateValue` - –∫–∞–∫–∞—è-–ª–∏–±–æ —Ñ—É–Ω–∫—Ü–∏—è, –≤—ã—á–∏—Å–ª—è—é—â–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–¥–æ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å—Ç–æ–π, –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞. `dependencies` - –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏. React –±—É–¥–µ—Ç —Å—Ä–∞–Ω–∏–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏–∑ —ç—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ —Å –ø—Ä–æ—à–ª—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑—É—è `Object.is`.

`useMemo` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫ (expensive recalculations), –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
const TodoList = ({ todos, tab, theme }) => {
  const visibleTodos = useMemo(() => filterTodos(todos, tab), [todos, tab]);
  ...
}
```

`useMemo` –Ω–µ –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä –±—ã—Å—Ç—Ä—ã–º, —Ö—É–∫ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ª–∏—à–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã.

---

### `useCallback`

–•—É–∫ `useCallback` –¥–µ–ª–∞–µ—Ç –≤—Å—ë —Ç–æ–∂–µ —Å–∞–º–æ–µ —á—Ç–æ –∏ `useMemo`, —Ä–∞–∑–Ω–∏—Ü–∞ –ª–∏—à—å –≤ —Ç–æ–º, —á—Ç–æ `useCallback` –∫—ç—à–∏—Ä—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∏ –¥–æ–ø—É—Å–∫–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```
const cachedFn = useCallback(fn, dependencies);
```

`useCallback` –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –≤ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```
import { useCallback } from 'react';

const ProductPage = ({ productId, referrer, theme }) => {
  const handleSubmit = useCallback((orderDetails) => {
    post('/product/' + productId + '/buy', {
      referrer,
      orderDetails,
    });
  }, [productId, referrer]);

  return (
    <div className={theme}>
      <ShippingForm onSubmit={handleSubmit} />
    </div>
  );
}
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, React –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ. –ü–æ—ç—Ç–æ–º—É
–ø—Ä–∏ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–µ `ProductPage` –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω –∏ `ShippingForm`.
